(this["webpackJsonpcoin-tracker"]=this["webpackJsonpcoin-tracker"]||[]).push([[0],{36:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(27),s=c.n(a),i=(c(36),c(11)),o=c(2),l=c(10),u=c.n(l),d=c(13),j=c(8),b=c(28),m=c.n(b).a.create({baseURL:"https://api.coingecko.com/api/v3"}),h=c(1),p=function(e){var t=e.coin,c=Number(t.current_price).toLocaleString("ja-JP",{style:"currency",currency:"JPY"});return Object(h.jsx)(i.b,{to:"/coins/".concat(t.id),className:"text-decoration-none",children:Object(h.jsxs)("li",{className:"coinlist-item list-group-item d-flex justify-content-between align-items-center text-white mb-1 rounded",children:[Object(h.jsx)("img",{className:"coinlist-image",src:t.image,alt:""}),Object(h.jsx)("span",{className:"coinlist-price coin-name text-light",children:t.name}),Object(h.jsx)("span",{className:"coinlist-price",children:c}),Object(h.jsxs)("span",{className:t.price_change_percentage_24h<0?"text-danger mr-2 coinlist-price":"text-success mr-2 coinlist-price",children:[" ",t.price_change_percentage_24h<0?Object(h.jsx)("i",{className:"fas fa-sort-down align-middle mr-1"}):Object(h.jsx)("i",{className:"fas fa-sort-up align-middle mr-1"}),t.price_change_percentage_24h]})]})})},x=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),s=Object(j.a)(a,2),i=s[0],o=s[1],l=["bitcoin","ethereum","tether","cardano","ripple","litecoin","bitcoin-cash","eos","tezos","okb"];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,m.get("/coins/markets/",{params:{vs_currency:"jpy",ids:l.join(",")}});case 3:t=e.sent,r(t.data),o(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(h.jsx)("div",{children:i?Object(h.jsx)("div",{className:"text-white m-3",children:Object(h.jsx)("h3",{className:"text-center",children:"\u8aad\u307f\u8fbc\u307f\u4e2d\u3067\u3059\u3002\u3002\u3002"})}):Object(h.jsx)("ul",{className:"list-group",children:c.map((function(e){return Object(h.jsx)(p,{coin:e},e.id)}))})})},O=function(){return Object(h.jsx)("div",{className:"coin-list mx-auto rounded",children:Object(h.jsx)(x,{})})},f=c(31),g=c(30),y=c.n(g),v={legend:{labels:{fontSize:17,fontColor:"#bbbbbb"},lineHeightAnnotation:{always:!0,hover:!1,lineWeight:1}},animation:{duration:2e3},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{type:"time",distribution:"linear",gridLines:{color:"#222222",zeroLineColor:"#222222"}}],yAxes:[{gridLines:{color:"#333333",zeroLineColor:"#333333"}}]}},_=function(e){var t=e.data,c=Object(n.useRef)(),r=Object(n.useState)("24h"),a=Object(j.a)(r,2),s=a[0],i=a[1],o=t.day,l=t.week,u=t.year,d=t.detail,b=function(){switch(s){case"24h":return o;case"7d":return l;case"1y":return u;default:return o}};Object(n.useEffect)((function(){if(c&&c.current&&d){console.log("ok");new y.a(c.current,{type:"line",data:{datasets:[{label:d.name,data:b(),backgroundColor:"transparent",borderColor:"red",pointRadius:0}]},options:Object(f.a)({},v)})}}));return Object(h.jsxs)("div",{className:"text-white border mt-2 rounded p-3",children:[Object(h.jsx)("div",{className:"text-end",children:function(){if(d){var e=Number(d.current_price).toLocaleString("ja-JP",{style:"currency",currency:"JPY"});return console.log(d.current_price),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{className:"chart-price my-0 text-white",children:e}),Object(h.jsxs)("p",{className:d.price_change_24h<0?"text-danger my-0":"text-success my-0",children:[d.price_change_percentage_24h.toFixed(2),"%"]})]})}}()}),Object(h.jsx)("div",{children:Object(h.jsx)("canvas",{ref:c,id:"myChart",width:200,height:400})}),Object(h.jsxs)("div",{className:"text-end mt-2",children:[Object(h.jsx)("button",{onClick:function(){return i("24h")},className:"btn btn-outline-secondary btn-sm",children:"24h"}),Object(h.jsx)("button",{onClick:function(){return i("7d")},className:"btn btn-outline-secondary btn-sm mx-2",children:"7d"}),Object(h.jsx)("button",{onClick:function(){return i("1y")},className:"btn btn-outline-secondary btn-sm",children:"1y"})]})]})},N=function(){var e=Object(o.e)().id,t=Object(n.useState)({}),c=Object(j.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(!1),i=Object(j.a)(s,2),l=i[0],b=i[1],p=function(e){return e.map((function(e){return{t:e[0],y:e[1].toFixed(2)}}))};Object(n.useEffect)((function(){(function(){var t=Object(d.a)(u.a.mark((function t(){var c,n,r,s,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),t.next=3,Promise.all([m.get("/coins/".concat(e,"/market_chart/"),{params:{vs_currency:"jpy",days:"1"}}),m.get("/coins/".concat(e,"/market_chart/"),{params:{vs_currency:"jpy",days:"7"}}),m.get("/coins/".concat(e,"/market_chart/"),{params:{vs_currency:"jpy",days:"365"}}),m.get("/coins/markets/",{params:{vs_currency:"jpy",ids:e}})]);case 3:c=t.sent,n=Object(j.a)(c,4),r=n[0],s=n[1],i=n[2],o=n[3],console.log(r),a({day:p(r.data.prices),week:p(s.data.prices),year:p(i.data.prices),detail:o.data[0]}),b(!1);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);return l?Object(h.jsx)("div",{className:"text-white m-3",children:Object(h.jsx)("h3",{className:"text-center",children:"\u8aad\u307f\u8fbc\u307f\u4e2d\u3067\u3059\u3002\u3002\u3002"})}):Object(h.jsx)(_,{data:r})};var k=function(){return Object(h.jsx)("div",{className:"container mt-5",children:Object(h.jsxs)(i.a,{basename:"/react_coin-tracker",children:[Object(h.jsx)(o.a,{exact:!0,path:"/",component:O}),Object(h.jsx)(o.a,{path:"/coins/:id",component:N})]})})},w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,65)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root")),w()}},[[64,1,2]]]);
//# sourceMappingURL=main.5682dfa5.chunk.js.map